{% extends "layout.html" %}
{% block content %}
<!-- import plugin script -->
<script src='static/Chart.min.js'></script>

<div class="container">
    <div class="row">
        <div class="col-md8">
            <h3>Platform Information</h3>
            <table class="table table-bordered table-sm">
                <thead class="thead-light">
                    <tr>
                        <th>Platform Attribute</th>
                        <th>Version</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Operating System</td>
                        <td>{{ os }}</td>
                    </tr>
                    <tr>
                        <td>Chipset Architecture</td>
                        <td>{{ architecture }}</td>
                    </tr>
                    <tr>
                        <td>OS Kernel Version</td>
                        <td>{{ oskernel }}</td>
                    </tr>
                    <tr>
                        <td>Firmware Version</td>
                        <td>{{ firmwareversion }}</td>
                    </tr>
                    <tr>
                        <td>System Up Time</td>
                        <td>{{ uptime }}</td>
                    </tr>
                </tbody>
            </table>
            </br>
            <h3>Storage Information</h3>
            <table class="table table-bordered table-sm">
                <thead class="thead-light">
                    <tr>
                        <th>Attribute</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Disk/SD Card Capacity</td>
                        <td>{{ disk_capacity }} GB</td>
                    </tr>
                    <tr>
                        <td>Current Free Space</td>
                        <td>{{ disk_free_space }} GB</td>
                    </tr>
                    <tr>
                        <canvas id="myChart" width="300" height="300"></canvas>
                    </tr>
                </tbody>
            </table>
            </br>

            <script>
                Chart.defaults.global.responsive = false;
                Chart.defaults.global.animation.duration = 2500;
                Chart.defaults.pie.animation.animateScale = true;


                var ctx = document.getElementById("myChart").getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ["Used", "Free Space"],
                        datasets: [{
                            backgroundColor: [
                            "#e74c3c",
                            "#2ecc71"
                            ],
                            borderWidth: 1,
                            borderColor: "#202020",
                            data: [{{ disk_capacity-disk_free_space }}, {{ disk_free_space }}]
                        }]
                    },
                    options : {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                fontSize: 14,
                                fontColor: 'rgb(30, 30, 30)',
                                padding: 20,
                                boxWidth: 20
                            }
                        }
                    }
                });
            </script>
            </br>
            <h3>Wireless Network Status</h3>
            <table class="table table-bordered table-sm">
                <thead class="thead-light">
                    <tr>
                        <th>Attribute</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Device Hostname</td>
                        <td>{{ hostname }}</td>
                    </tr>
                    <tr>
                        <td>IP Address</td>
                        <td>{{ ip }}</td>
                    </tr>
                    <tr>
                        <td>Network Connection SSID</td>
                        <td>{{ ssid }}</td>
                    </tr>
                    <tr>
                        <td>Network Signal Quality</td>
                        <td>{{ quality }} %</td>
                    </tr>
                    <tr>
                        <td>Network Signal Level</td>
                        <td>{{ level }} dB</td>
                    </tr>
                </tbody>
            </table>
            </br>
            {% if sensors_list %}
                <h3>Temperature sensors connected</h3>
                <table class="table table-bordered table-sm">
                    <thead class="thead-light">
                        <tr>
                            <th>Sensor ID</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for sensor in sensors_list %}
                            <tr>
                                <td>{{ sensor }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <h3>No Temperature sensors detected!</h3>
            {% endif %}
        </div>
    </div>
</div>
{% endblock content %}
